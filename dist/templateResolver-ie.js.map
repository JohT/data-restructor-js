{"mappings":"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","sources":["lib/js/polyfills/indexOfPolyfill.js","lib/js/polyfills/objectKeysPolyfill.js","src/js/templateResolver.js","lib/js/flattenToArray.js","src/js/templateResolver-ie.js"],"sourcesContent":["//https://developer.mozilla.org/de/docs/Web/JavaScript/Reference/Global_Objects/Array/indexOf#Polyfill\nif (!Array.prototype.indexOf)  Array.prototype.indexOf = (function(Object, max, min){\n    \"use strict\";\n    return function indexOf(member, fromIndex) {\n      if(this===null||this===undefined)throw TypeError(\"Array.prototype.indexOf called on null or undefined\");\n      \n      var that = Object(this), Len = that.length >>> 0, i = min(fromIndex | 0, Len);\n      if (i < 0) i = max(0, Len+i); else if (i >= Len) return -1;\n      \n      if(member===void 0){ for(; i !== Len; ++i) if(that[i]===void 0 && i in that) return i; // undefined\n      }else if(member !== member){   for(; i !== Len; ++i) if(that[i] !== that[i]) return i; // NaN\n      }else                           for(; i !== Len; ++i) if(that[i] === member) return i; // all else\n  \n      return -1; // if the value was not found, then return -1\n    };\n  })(Object, Math.max, Math.min);","//http://tokenposts.blogspot.com/2012/04/javascript-objectkeys-browser.html\nif (!Object.keys) Object.keys = function(o) {\n    if (o !== Object(o))\n      throw new TypeError('Object.keys called on a non-object');\n    var k=[],p;\n    for (p in o) if (Object.prototype.hasOwnProperty.call(o,p)) k.push(p);\n    return k;\n  }","/**\n * @file Provides a simple template resolver, that replaces variables in double curly brackets with the values of a given object.\n * @version {@link https://github.com/JohT/data-restructor-js/releases/latest latest version}\n * @author JohT\n * @version ${project.version}\n */\n\"use strict\";\nvar module = templateResolverInternalCreateIfNotExists(module); // Fallback for vanilla js without modules\n\nfunction templateResolverInternalCreateIfNotExists(objectToCheck) {\n  return objectToCheck || {};\n}\n\n/**\n * Provides a simple template resolver, that replaces variables in double curly brackets with the values of a given object.\n * @module template_resolver\n */\nvar template_resolver = (module.exports = {}); // Export module for npm...\ntemplate_resolver.internalCreateIfNotExists = templateResolverInternalCreateIfNotExists;\n\nvar internal_object_tools = internal_object_tools || require(\"../../lib/js/flattenToArray\"); // supports vanilla js & npm\n\ntemplate_resolver.Resolver = (function () {\n  var removeArrayBracketsRegEx = new RegExp(\"\\\\[\\\\d+\\\\]\", \"gi\");\n\n  /**\n   * Resolver. Is used inside this repository. It could also be used outside.\n   * @param {*} sourceDataObject The properties of this object will be used to replace the placeholders in the template.\n   * @constructs Resolver\n   * @alias module:template_resolver.Resolver\n   */\n  function Resolver(sourceDataObject) {\n    /**\n     * The properties of this source data object will be used to replace the placeholders in the template.\n     */\n    this.sourceDataObject = sourceDataObject;\n    /**\n     * Resolves the given template.\n     *\n     * The template may contain variables in double curly brackets.\n     * Supported variables are all properties of this object, e.g. \"{{fieldName}}\", \"{{displayName}}\", \"{{value}}\".\n     * Since this object may also contains (described) groups of sub objects, they can also be used, e.g. \"{{summaries[0].value}}\"\n     * Parts of the index can be inserted by using e.g. \"{{index[1]}}\".\n     *\n     * @param {string} template\n     * @returns {string} resolved template\n     */\n    this.resolveTemplate = function (template) {\n      return this.replaceResolvableFields(template, addFieldsPerGroup(this.resolvableFieldsOfAll(this.sourceDataObject)));\n    };\n    /**\n     * Returns a map like object, that contains all resolvable fields and their values as properties.\n     * This function takes a variable count of input parameters,\n     * each containing an object that contains resolvable fields to extract from.\n     *\n     * The recursion depth is limited to 3, so that an object,\n     * that contains an object can contain another object (but not further).\n     *\n     * Properties beginning with an underscore in their name will be filtered out, since they are considered as internal fields.\n     *\n     * @param {...object} varArgs variable count of parameters. Each parameter contains an object that fields should be resolvable for variables.\n     * @returns {object} object with resolvable field names and their values.\n     * @public\n     */\n    this.resolvableFieldsOfAll = function () {\n      var map = {};\n      var ignoreInternalFields = function (propertyName) {\n        return propertyName.indexOf(\"_\") !== 0 && propertyName.indexOf(\"._\") < 0;\n      };\n      var index;\n      for (index = 0; index < arguments.length; index += 1) {\n        addToFilteredMapObject(internal_object_tools.flattenToArray(arguments[index], 3), map, ignoreInternalFields);\n      }\n      return map;\n    };\n    /**\n     * Replaces all variables in double curly brackets, e.g. {{property}},\n     * with the value of that property from the resolvableProperties.\n     *\n     * Supported property types: string, number, boolean\n     * @param {string} stringContainingVariables\n     * @param {object[]} resolvableFields (name=value)\n     */\n    this.replaceResolvableFields = function (stringContainingVariables, resolvableFields) {\n      var replaced = stringContainingVariables;\n      var propertyNames = Object.keys(resolvableFields);\n      var propertyIndex = 0;\n      var propertyName = \"\";\n      var propertyValue = \"\";\n      for (propertyIndex = 0; propertyIndex < propertyNames.length; propertyIndex += 1) {\n        propertyName = propertyNames[propertyIndex];\n        propertyValue = resolvableFields[propertyName];\n        replaced = replaced.replace(\"{{\" + propertyName + \"}}\", propertyValue);\n      }\n      return replaced;\n    };\n  }\n\n  /**\n   * Adds the value of the \"fieldName\" property (including its group prefix) and its associated \"value\" property content.\n   * For example: detail[2].fieldName=\"name\", detail[2].value=\"Smith\" lead to the additional property detail.name=\"Smith\".\n   * @param {object} object with resolvable field names and their values.\n   * @returns {object} object with resolvable field names and their values.\n   * @protected\n   * @memberof module:template_resolver.Resolver\n   */\n  function addFieldsPerGroup(map) {\n    var propertyNames = Object.keys(map);\n    var i, fullPropertyName, propertyInfo, propertyValue;\n    for (i = 0; i < propertyNames.length; i += 1) {\n      fullPropertyName = propertyNames[i];\n      propertyValue = map[fullPropertyName];\n      propertyInfo = getPropertyNameInfos(fullPropertyName);\n      // Supports fields that are defined by a property named \"fieldName\" (containing the name)\n      // and a property named \"value\" inside the same sub object (containing its value).\n      // Ignore custom fields that are named \"fieldName\"(propertyValue), since this would lead to an unpredictable behavior.\n      // TODO could make \"fieldName\" and \"value\" configurable\n      if (propertyInfo.name === \"fieldName\" && propertyValue !== \"fieldName\") {\n        map[propertyInfo.groupWithoutArrayIndices + propertyValue] = map[propertyInfo.group + \"value\"];\n      }\n    }\n    return map;\n  }\n\n  /**\n   * Infos about the full property name including the name of the group (followed by the separator) and the name of the property itself.\n   * @param {String} fullPropertyName\n   * @returns {Object} Contains \"group\" (empty or group name including trailing separator \".\"), \"groupWithoutArrayIndices\" and \"name\" (property name).\n   * @protected\n   * @memberof module:template_resolver.Resolver\n   */\n  function getPropertyNameInfos(fullPropertyName) {\n    var positionOfRightMostSeparator = fullPropertyName.lastIndexOf(\".\");\n    var propertyName = fullPropertyName;\n    if (positionOfRightMostSeparator > 0) {\n      propertyName = fullPropertyName.substr(positionOfRightMostSeparator + 1);\n    }\n    var propertyGroup = \"\";\n    if (positionOfRightMostSeparator > 0) {\n      propertyGroup = fullPropertyName.substr(0, positionOfRightMostSeparator + 1); //includes the trailing \".\".\n    }\n    var propertyGroupWithoutArrayIndices = propertyGroup.replace(removeArrayBracketsRegEx, \"\");\n    return { group: propertyGroup, groupWithoutArrayIndices: propertyGroupWithoutArrayIndices, name: propertyName };\n  }\n\n  /**\n   * Collects all flattened name-value-pairs into one object using the property names as keys and their values as values (map-like).\n   * Example: `{name: \"accountNumber\", value: \"12345\"}` becomes `mapObject[\"accountNumber\"]=\"12345\"`.\n   *\n   * @param {NameValuePair[]} elements flattened array of name-value-pairs\n   * @param {object} mapObject container to collect the results. Needs to be created before e.g. using `{}`.\n   * @param {function} filterMatchesFunction takes the property name as string argument and returns true (include) or false (exclude).\n   * @protected\n   * @memberof module:template_resolver.Resolver\n   */\n  function addToFilteredMapObject(elements, mapObject, filterMatchesFunction) {\n    var index, element;\n    for (index = 0; index < elements.length; index += 1) {\n      element = elements[index];\n      if (typeof filterMatchesFunction === \"function\" && filterMatchesFunction(element.name)) {\n        mapObject[element.name] = element.value;\n      }\n    }\n    return mapObject;\n  }\n\n  return Resolver;\n}());\n","\"use strict\";\n/**\n * @fileOverview Modded (compatibility, recursion depth) version of: https://stackoverflow.com/questions/19098797/fastest-way-to-flatten-un-flatten-nested-json-objectss\n * @version ${project.version}\n * @see {@link https://stackoverflow.com/questions/19098797/fastest-way-to-flatten-un-flatten-nested-json-objectss|stackoverflow flatten nested json objects}\n */\nvar module = module || {}; // Fallback for vanilla js without modules\n\n/**\n * internal_object_tools. Not meant to be used outside this repository.\n * @default {}\n */\nvar internal_object_tools = module.exports={}; // Export module for npm...\n\n/**\n * @typedef {Object} NameValuePair\n * @property {string} name - point separated names of the flattened main and sub properties, e.g. \"responses[2].hits.hits[4]._source.name\".\n * @property {string} value - value of the property\n */\n\n/**\n * @param {object} data hierarchical object that may consist fo fields, subfields and arrays.\n * @param {number} maxRecursionDepth\n * @returns {NameValuePair[]} array of property name and value pairs\n */\ninternal_object_tools.flattenToArray = function (data, maxRecursionDepth) {\n  var result = [];\n  if (typeof maxRecursionDepth !== \"number\" || maxRecursionDepth < 1) {\n    maxRecursionDepth = 20;\n  }\n  function recurse(cur, prop, depth) {\n    if (depth > maxRecursionDepth || typeof cur === \"function\") {\n      return;\n    }\n    if (Object(cur) !== cur) {\n      result.push({ name: prop, value: cur });\n    } else if (Array.isArray(cur)) {\n      var i;\n      var l = cur.length;\n      for (i = 0; i < l; i += 1) {\n        recurse(cur[i], prop + \"[\" + i + \"]\", depth + 1);\n      }\n      if (l === 0) {\n        result[prop] = [];\n        result.push({ name: prop, value: \"\" });\n      }\n    } else {\n      var isEmpty = true;\n      var p;\n      for (p in cur) {\n        isEmpty = false;\n        recurse(cur[p], prop ? prop + \".\" + p : p, depth + 1);\n      }\n      if (isEmpty && prop) {\n        result.push({ name: prop, value: \"\" });\n      }\n    }\n  }\n  recurse(data, \"\", 0);\n  return result;\n};\n","\"use strict\";\nrequire(\"../../lib/js/polyfills/indexOfPolyfill.js\");\nrequire(\"../../lib/js/polyfills/objectKeysPolyfill.js\");\nvar template_resolver = require(\"../../src/js/templateResolver.js\");\nmodule.exports = {template_resolver : template_resolver};\n"],"names":["Object1","max","min","Array","prototype","indexOf","Object","Math","member","fromIndex","this","TypeError","that","Len","length","i","keys","o","p","k","hasOwnProperty","call","push","$8ee26f21047571f6$var$module","$8ee26f21047571f6$var$templateResolverInternalCreateIfNotExists","objectToCheck","$8ee26f21047571f6$var$template_resolver","exports","internalCreateIfNotExists","$8ee26f21047571f6$var$internal_object_tools","parcelRequire","Resolver","removeArrayBracketsRegEx","RegExp","getPropertyNameInfos","fullPropertyName","positionOfRightMostSeparator","lastIndexOf","propertyName","substr","propertyGroup","propertyGroupWithoutArrayIndices","replace","group","groupWithoutArrayIndices","name","addToFilteredMapObject","elements","mapObject","filterMatchesFunction","index","element","value","sourceDataObject","resolveTemplate","template","replaceResolvableFields","map","propertyInfo","propertyValue","propertyNames","addFieldsPerGroup","resolvableFieldsOfAll","ignoreInternalFields","arguments","flattenToArray","stringContainingVariables","resolvableFields","replaced","propertyIndex","$91486989ae7b0df6$var$module","data","maxRecursionDepth","result","recurse","cur","prop","depth","isArray","l","isEmpty","module","template_resolver","$cgzot"],"version":3,"file":"templateResolver-ie.js.map","sourceRoot":"../"}