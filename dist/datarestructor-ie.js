parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"PD6D":[function(require,module,exports) {
Array.isArray||(Array.isArray=function(r){return"[object Array]"===Object.prototype.toString.call(r)});
},{}],"s8hT":[function(require,module,exports) {
Array.prototype.filter||(Array.prototype.filter=function(t,r){"use strict";if("Function"!=typeof t&&"function"!=typeof t||!this)throw new TypeError;var i,e=this.length>>>0,o=new Array(e),n=this,f=0,h=-1;if(void 0===r)for(;++h!==e;)h in this&&(i=n[h],t(n[h],h,n)&&(o[f++]=i));else for(;++h!==e;)h in this&&(i=n[h],t.call(r,n[h],h,n)&&(o[f++]=i));return o.length=f,o});
},{}],"AIZE":[function(require,module,exports) {
Array.prototype.indexOf||(Array.prototype.indexOf=function(r,e,t){"use strict";return function(i,n){if(null==this)throw TypeError("Array.prototype.indexOf called on null or undefined");var f=r(this),o=f.length>>>0,u=t(0|n,o);if(u<0)u=e(0,o+u);else if(u>=o)return-1;if(void 0===i){for(;u!==o;++u)if(void 0===f[u]&&u in f)return u}else if(i!=i){for(;u!==o;++u)if(f[u]!=f[u])return u}else for(;u!==o;++u)if(f[u]===i)return u;return-1}}(Object,Math.max,Math.min));
},{}],"Ty85":[function(require,module,exports) {
Object.keys||(Object.keys=function(e){if(e!==Object(e))throw new TypeError("Object.keys called on a non-object");var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.push(t);return r});
},{}],"hflC":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}var e=e||{},r=e.exports={};r.PropertyStructureDescriptionBuilder=function(){function t(t,n){if(o(t))return function(e){return t};if(n.propertyPatternTemplateMode){var i=n.propertyPattern;return a=i,function(t){var n=r(a,"{{fieldName}}"),i=n.exec(t);return i&&""!=i[1]?i[1]:e(t)}}var a;return function(t){return e(t)}}function e(t){var e=new RegExp("(\\w+)$","gi"),r=t.match(e);return null!=r?r[0]:t}function r(t,e){var r=n(t);return"string"==typeof e&&(e=n(e)),r="^"+(r=r.replace(e,"([-\\w]+)")),new RegExp(r,"i")}function n(t){var e=new RegExp("([^-\\w])","gi");return t.replace(e,"\\$1")}function i(t,e){return o(t)?t:e}function o(t){return"string"==typeof t&&null!=t&&""!=t}return function(){this.description={type:"",category:"",abbreviation:"",image:"",propertyPatternTemplateMode:!1,propertyPattern:"",indexStartsWith:"",groupName:"group",groupPattern:"",groupDestinationPattern:"",groupDestinationName:null,deduplicationPattern:"",getDisplayNameForPropertyName:null,getFieldNameForPropertyName:null,matchesPropertyName:null},this.type=function(t){return this.description.type=t,this},this.category=function(t){return this.description.category=t,this},this.abbreviation=function(t){return this.description.abbreviation=i(t,""),this},this.image=function(t){return this.description.image=i(t,""),this},this.propertyPatternEqualMode=function(){return this.description.propertyPatternTemplateMode=!1,this},this.propertyPatternTemplateMode=function(){return this.description.propertyPatternTemplateMode=!0,this},this.propertyPattern=function(t){return this.description.propertyPattern=i(t,""),this},this.indexStartsWith=function(t){return this.description.indexStartsWith=i(t,""),this},this.displayPropertyName=function(e){return this.description.getDisplayNameForPropertyName=t(e,this.description),o(e)?this:(this.description.getDisplayNameForPropertyName=(r=this.description.getDisplayNameForPropertyName,function(t){var e=r(t);return(e=null!=e?e:"").replace("_comma_separated_values","")}),this.description.getDisplayNameForPropertyName=function(t){return function(e){return(r=t(e)).length>1?r.charAt(0).toUpperCase()+r.slice(1):r;var r}}(this.description.getDisplayNameForPropertyName),this);var r},this.fieldName=function(e){return this.description.getFieldNameForPropertyName=t(e,this.description),this},this.groupName=function(t){return this.description.groupName=i(t,""),this},this.groupPattern=function(t){return this.description.groupPattern=i(t,""),this},this.groupDestinationPattern=function(t){return this.description.groupDestinationPattern=i(t,""),this},this.groupDestinationName=function(t){return this.description.groupDestinationName=i(t,this.description.groupName),this},this.deduplicationPattern=function(t){return this.description.deduplicationPattern=i(t,""),this},this.build=function(){return this.description.matchesPropertyName=(t=this.description,o(e=t.propertyPattern)?t.propertyPatternTemplateMode?function(t){return null!=(n=e,i=new RegExp("\\\\\\{\\\\\\{[-\\w]+\\\\\\}\\\\\\}","gi"),r(n,i)).exec(t);var n,i}:function(t){return t===e}:function(t){return!1}),null==this.description.getDisplayNameForPropertyName&&this.displayPropertyName(""),null==this.description.getFieldNameForPropertyName&&this.fieldName(""),null==this.description.groupDestinationName&&this.groupDestinationName(""),this.description;var t,e}}}(),r.DescribedEntryCreator=function(){var e=new RegExp("\\[\\d+\\]","gi");function n(t){for(var e={},n=function(t){return 0!=t.indexOf("_")&&t.indexOf("._")<0},i=0;i<arguments.length;i+=1)a(r.InternalTools.flattenToArray(arguments[i],3),e,n);return e}function i(t){var r=t.lastIndexOf("."),n=t;r>0&&(n=t.substr(r+1));var i="";r>0&&(i=t.substr(0,r+1));var o=i.replace(e,"");return{group:i,groupWithoutArrayIndices:o,name:n}}function o(t,e){var r=t,n=Object.keys(e),i=0,o="",a="";for(i=0;i<n.length;i+=1)a=e[o=n[i]],r=r.replace("{{"+o+"}}",a);return r}function a(t,e,r){var n,i;for(n=0;n<t.length;n+=1)i=t[n],"function"==typeof r&&r(i.name)&&(e[i.name]=i.value);return e}return function(r,a){var u,s,p=(u=r.name,s=new RegExp("\\[(\\d+)\\]","gi"),function(t,e){var r,n="",i=[];do{(r=e.exec(t))&&(n.length>0&&(n+="."),n+=r[1],i.push(parseInt(r[1])))}while(r);return{pointDelimited:n,numberArray:i}}(u,s)),c=r.name.replace(e,"");this.category=a.category,this.type=a.type,this.abbreviation=a.abbreviation,this.image=a.image,this.index=p.numberArray,this.displayName=a.getDisplayNameForPropertyName(c),this.fieldName=a.getFieldNameForPropertyName(c),this.value=r.value,this._isMatchingIndex=0==p.pointDelimited.indexOf(a.indexStartsWith),this._description=a,this._identifier={index:p.pointDelimited,propertyNameWithArrayIndices:r.name,propertyNameWithoutArrayIndices:c,groupId:"",groupDestinationId:"",deduplicationId:""},this._identifier.groupId=o(a.groupPattern,n(this,this._description,this._identifier)),this._identifier.groupDestinationId=o(a.groupDestinationPattern,n(this,this._description,this._identifier)),this._identifier.deduplicationId=o(a.deduplicationPattern,n(this,this._description,this._identifier)),this.resolveTemplate=function(t){return o(t,function(t){var e,r,n,o,a=Object.keys(t);for(e=0;e<a.length;e+=1)r=a[e],o=t[r],"fieldName"==(n=i(r)).name&&"fieldName"!=o&&(t[n.groupWithoutArrayIndices+o]=t[n.group+"value"]);return t}(n(this)))},this.publicFieldsJson=function(e){var r=function(e){var r,n,i=[],o=Object.keys(e);for(r=0;r<o.length;r+=1)n=o[r],"object"!==t(e[n])&&"function"!=typeof e[n]&&i.push(n);return i}(this),n="number"==typeof e?e:0;return JSON.stringify(this,function(e){return function(r,n){return function(e,r,n){if(!("object"!==t(r)&&n.indexOf(e)<0&&""!=e)&&0!=e.indexOf("_")){if(Array.isArray(r)){var i,o,a,u,s=[];for(i=0;i<r.length;i+=1){for(a=r[i],u={},o=0;o<n.length;o+=1)u[n[o]]=a[n[o]];s.push(u)}return s}return r}}(r,n,e)}}(r),n)}}}(),r.Restructor=function(){function t(t,e,r){for(var n=function(t,e){for(var r=new Object,n=0;n<t.length;n++){var i=t[n];r[e(i)]=i}return r}(e,r),i=[],o=0;o<t.length;o++){var a=r(u=t[o]);null!=a&&""!==a&&null!=n[a]||i.push(u)}for(o=0;o<e.length;o++){var u=e[o];i.push(u)}return i}function e(e,r){if(null==e||0==e.length)return r;return t(e,r,function(t){return t._identifier.deduplicationId})}function n(t,e){var n=new RegExp("\\[\\d+\\]","gi"),i=[];return t.filter(function(t){var o=t.name.replace(n,"");if(e.matchesPropertyName(o)){var a=new r.DescribedEntryCreator(t,e);a._isMatchingIndex&&i.push(a)}}),i}return{processJsonUsingDescriptions:function(t,i,o){var a,u,s,p,c,l=r.InternalTools.flattenToArray(t);a=l,u=new RegExp("\\[\\d+\\]$","gi"),s=[],p="",c="",a.filter(function(t){if(!t.name.match(u))return""!==p&&(s.push({name:p+"_comma_separated_values",value:c}),p=""),void s.push(t);var e=t.name.replace(u,"");p===e?c+=", "+t.value:(""!==p&&(s.push({name:p+"_comma_separated_values",value:c}),p=""),p=e,c=t.value),s.push(t)}),l=s,"boolean"==typeof o&&o&&(console.log("flattened data with array values:"),console.log(l));for(var f=[],h=0;h<i.length;h++)f=e(f,n(l,i[h]));return function(t){for(var e=[],r=Object.keys(t),n=0;n<r.length;n++){var i=r[n],o=t[i];e.push(o)}return e}(l=function(t){for(var e=Object.keys(t),r=[],n=0;n<e.length;n++){var i=e[n],o=t[i];if(""!=o._description.groupDestinationPattern){var a=o._identifier.groupDestinationId;if(null!=t[a]){var u=o[o._description.groupName],s=t[a][o._description.groupDestinationName],p=null!=s?s.concat(u):u;t[a][o._description.groupDestinationName]=p,r.push(i)}}}for(var n=0;n<r.length;n++){var c=r[n];delete t[c]}return t}(l=function(t){return function(t,e,r){for(var n=new Object,i=0;i<t.length;i++){var o=t[i],a=e(o);if(""!==a){var u=r(o);null!=u&&""!==u&&(n[a]||(n[a]=o,n[a][u]=[]),n[a][u].push(o))}}return n}(t,function(t){return t._identifier.groupId},function(t){return t._description.groupName})}(l=f)))}}}(),r.InternalTools=function(){return{flattenToArray:function(t,e){var r=[];return("number"!=typeof e||e<1)&&(e=20),function t(n,i,o){if(!(o>e||"function"==typeof n))if(Object(n)!==n)r.push({name:i,value:n});else if(Array.isArray(n)){for(var a=0,u=n.length;a<u;a++)t(n[a],i+"["+a+"]",o+1);0==u&&(r[i]=[],r.push({name:i,value:""}))}else{var s=!0;for(var p in n)s=!1,t(n[p],i?i+"."+p:p,o+1);s&&i&&r.push({name:i,value:""})}}(t,"",0),r}}}();
},{}],"bXFW":[function(require,module,exports) {
"use strict";require("../../test/js/polyfills/isArrayPolyfill.js"),require("../../test/js/polyfills/arrayFilterPolyfill.js"),require("../../test/js/polyfills/indexOfPolyfill.js"),require("../../test/js/polyfills/objectKeysPolyfill.js");var l=require("../../src/js/datarestructor.js");module.exports={datarestructor:l};
},{"../../test/js/polyfills/isArrayPolyfill.js":"PD6D","../../test/js/polyfills/arrayFilterPolyfill.js":"s8hT","../../test/js/polyfills/indexOfPolyfill.js":"AIZE","../../test/js/polyfills/objectKeysPolyfill.js":"Ty85","../../src/js/datarestructor.js":"hflC"}]},{},["bXFW"], null)
//# sourceMappingURL=/datarestructor-ie.js.map